{"remainingRequest":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mushfikhossain/Projects/ImageEditor/src/components/Templates/ImageEditor.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"/Users/mushfikhossain/Projects/ImageEditor/src/components/Templates/ImageEditor.vue","mtime":1531804509000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/css-loader/index.js","mtime":1531469512829},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907989000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/cache-loader/dist/cjs.js","mtime":1531469514241},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimg {\n    width: 100%;\n}\ncanvas {\n    width: 100%;\n}\n.avatar {\n    display: flex;\n    justify-content: center;\n    margin-top: -4rem;\n}\n.avatar img {\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    border: 5px solid white;\n}\ndiv .img-editor{\n    display: flex;\n    align-self: auto;\n    flex-direction: column;\n    width: 50%;\n    padding: 1rem;\n}\n\n.image-input__input {\n    display: none;\n}\n.image-input__canvas {\n    border: 1px solid black;\n}\n\n.image-input__overlay \n{\n    position: absolute;\n    top: 0; left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    cursor: pointer;\n}\n.panel {\n    padding: 0.5rem;\n}\n.image-adjust__brightness {\n    width: 80%;\n}\n.brightness {\n    color: #26a95b;\n}\n.image-adjust__contrast {\n    width: 80%;\n}\n.contrast {\n    color: #4a90e2;\n}\n",{"version":3,"sources":["ImageEditor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageEditor.vue","sourceRoot":"src/components/Templates","sourcesContent":["<template>\n  <div class=\"img-editor well\">\n    <Header \n        title=\"Image Editor\"\n        subtitle=\"Mushfik Hossain\"\n    />\n    <div>\n        <img src=\"../../assets/pleasure-garden.jpg\">\n        <div class=\"avatar\">\n            <img src=\"../../assets/my-face.png\">\n        </div>\n    </div>\n    <div class=\"panel\">\n        <div class=\"panel-body\">\n            <h4 class=\"brightness\">Brightness</h4>\n            <input \n                class=\"image-adjust__brightness\" \n                @change=\"adjustBrightness\" \n                type=\"range\" \n                min=\"-100\" \n                max=\"100\" \n                value=\"0\" \n                :disabled=\"isImageLoaded === false\"\n            />\n            <Label description=\"Slide to adjust image brightness\"/>\n        </div>     \n    </div>\n    <div class=\"panel\">\n        <div class=\"panel panel-body\">\n            <h4 class=\"contrast\">Contrast</h4>\n            <input \n                class=\"image-adjust__contrast\" \n                @change=\"adjustContrast\" \n                type=\"range\" \n                min=\"-100\" \n                max=\"100\" \n                value=\"0\" \n                :disabled=\"isImageLoaded === false\"\n            />\n            <Label description=\"Slide to adjust image contrast\"/>\n        </div>    \n    </div>\n    <div>\n        <canvas \n            class=\"image-input__canvas\"\n            ref=\"canvas\"\n            v-bind:height=\"height\"\n            v-bind:width=\"width\">\n        </canvas> \n        <div>\n            <button class=\"btn btn-primary\" @click=\"triggerInput\">Upload</button>\n            <input \n                @change=\"onFileSelected\" \n                class=\"image-input__input\" \n                ref=\"fileInput\" \n                type=\"file\" \n            />\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Label from '../Atoms/Label.vue'\nimport Header from '../Atoms/Header.vue'\n\nexport default {\n  name: 'ImageEditor',\n  components: {\n    Label,\n    Header,\n  },\n  props: ['id','width','height'],\n  data () {\n    return {\n        selectedFile: null,\n        isImageLoaded: false,\n        // Image\n        ctx: null, \n        canvas: null,\n        img: null, \n        originalImgData: null,\n    }\n  },\n  mounted: function(){\n    // Instantiate\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = document.createElement(\"img\");\n  },\n  methods: {\n    copyImageData(){\n        const vm = this;\n        const originalData = vm.originalImgData.data;\n        let newImgData = vm.ctx.createImageData(vm.canvas.width, vm.canvas.height);\n        newImgData.data.set(originalData);\n        return newImgData;\n    },\n\n    adjustBrightness(event){\n        const vm = this;\n        \n        let newImgData = vm.copyImageData();\n        let data = newImgData.data;\n        const brightnessValue = parseFloat(event.target.value) || 0;\n\n        for (var i=0;i<data.length;i+=4) {\n            data[i] += brightnessValue;\n            data[i + 1] += brightnessValue;\n            data[i + 2] += brightnessValue;\n        }\n        vm.ctx.putImageData(newImgData, 0, 0);\n    },\n    adjustContrast(event){\n        const vm = this;\n        let contrastValue = event.target.value\n        let newImgData = vm.copyImageData();\n        let data = newImgData.data;\n\n        contrastValue *= 2.55; // or *= 255 / 100; scale integer percent to full range\n        const factor = (255 + contrastValue) / (255.01 - contrastValue);  //add .1 to avoid /0 error\n\n        for(var i=0;i<data.length;i+=4)  {\n            data[i] = factor * (data[i] - 128) + 128;     //r value\n            data[i+1] = factor * (data[i+1] - 128) + 128; //g value\n            data[i+2] = factor * (data[i+2] - 128) + 128; //b value\n        }\n        vm.ctx.putImageData(newImgData, 0, 0);\n    },\n    triggerInput: function(event) {\n      event.preventDefault();\n      this.$refs.fileInput.click();\n    },\n    onFileSelected(event){\n        const vm = this;\n        const input = event.target;\n\n        if (input.files && input.files[0]) {\n            let reader = new FileReader();\n            reader.onload = function (e) {\n                vm.img.src = e.target.result;\n            }\n            reader.readAsDataURL(input.files[0]);\n\n            vm.img.onload = function() {\n                vm.ctx.drawImage(vm.img, 0, 0, vm.img.width, vm.img.height, \n                    0, 0, vm.canvas.width, vm.canvas.height);\n                vm.originalImgData = vm.ctx.getImageData(0, 0, vm.canvas.width, vm.canvas.height);\n                vm.isImageLoaded = true;\n            }\n        }\n    }\n  }\n}\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\nimg {\n    width: 100%;\n}\ncanvas {\n    width: 100%;\n}\n.avatar {\n    display: flex;\n    justify-content: center;\n    margin-top: -4rem;\n}\n.avatar img {\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    border: 5px solid white;\n}\ndiv .img-editor{\n    display: flex;\n    align-self: auto;\n    flex-direction: column;\n    width: 50%;\n    padding: 1rem;\n}\n\n.image-input__input {\n    display: none;\n}\n.image-input__canvas {\n    border: 1px solid black;\n}\n\n.image-input__overlay \n{\n    position: absolute;\n    top: 0; left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    cursor: pointer;\n}\n.panel {\n    padding: 0.5rem;\n}\n.image-adjust__brightness {\n    width: 80%;\n}\n.brightness {\n    color: #26a95b;\n}\n.image-adjust__contrast {\n    width: 80%;\n}\n.contrast {\n    color: #4a90e2;\n}\n</style>\n"]}]}