{"remainingRequest":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/babel-loader/lib/index.js!/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mushfikhossain/Projects/ImageEditor/src/components/ImageEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mushfikhossain/Projects/ImageEditor/src/components/ImageEditor.vue","mtime":1531704765609},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/cache-loader/dist/cjs.js","mtime":1531469514241},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ImageEditor',\n  props: ['id', 'width', 'height'],\n  data: function data() {\n    return {\n      selectedFile: null,\n      isImageLoaded: false,\n      // Image\n      ctx: null,\n      canvas: null,\n      img: null,\n      originalImgData: null\n    };\n  },\n  mounted: function mounted() {\n    // Instantiate\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = document.createElement(\"img\");\n  },\n  methods: {\n    pixelManipulation: function pixelManipulation(imageData, contrast) {\n      // contrast as an integer percent  \n      var data = imageData.data; // original array modified, but canvas not updated\n\n      contrast *= 2.55; // or *= 255 / 100; scale integer percent to full range\n\n      var factor = (255 + contrast) / (255.01 - contrast); //add .1 to avoid /0 error\n\n      for (var i = 0; i < data.length; i += 4) //pixel values in 4-byte blocks (r,g,b,a)\n      {\n        data[i] = factor * (data[i] - 128) + 128; //r value\n\n        data[i + 1] = factor * (data[i + 1] - 128) + 128; //g value\n\n        data[i + 2] = factor * (data[i + 2] - 128) + 128; //b value\n      }\n\n      return imageData;\n    },\n    adjustBrightness: function adjustBrightness(event) {\n      var contrastValue = event.target.value;\n      console.log(contrastValue);\n      var vm = this;\n      var newImageData = vm.pixelManipulation(vm.originalImgData, contrastValue);\n      console.log(newImageData);\n      vm.ctx.putImageData(newImageData, 0, 0);\n    },\n    adjustContrast: function adjustContrast(event) {\n      console.log(\"adjustContrast : \" + event.target.value);\n    },\n    triggerInput: function triggerInput(event) {\n      event.preventDefault();\n      this.$refs.fileInput.click();\n    },\n    onFileSelected: function onFileSelected(event) {\n      console.log('uploading...');\n      var vm = this;\n      var input = event.target;\n\n      if (input.files && input.files[0]) {\n        var reader = new FileReader(); // Set as source\n\n        reader.onload = function (e) {\n          vm.img.src = e.target.result;\n        };\n\n        reader.readAsDataURL(input.files[0]);\n\n        vm.img.onload = function () {\n          // Draw\n          vm.ctx.drawImage(vm.img, 0, 0, vm.img.width, vm.img.height, 0, 0, vm.canvas.width, vm.canvas.height);\n          vm.originalImgData = vm.ctx.getImageData(0, 0, vm.canvas.width, vm.canvas.height);\n          vm.isImageLoaded = true;\n        };\n      }\n    }\n  }\n};",{"version":3,"sources":["ImageEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"img-editor\">\n    <h1>Image Editor</h1>\n    <div>\n        Brightness and Contrast Editor\n    </div>\n    <div>\n        <img src=\"../assets/pleasure-garden.jpg\">\n        <div class=\"avatar\">\n            <img src=\"../assets/my-face.png\">\n        </div>\n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-body\">\n            <input class=\"image-adjust__brightness\" @change=\"adjustBrightness\" type=\"range\" min=\"-100\" max=\"100\" value=\"0\">\n            <p>Slide to adjust image brightness</p>\n        </div>     \n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-body\">\n            <input class=\"image-adjust__contrast\" @change=\"adjustContrast\" type=\"range\" min=\"-100\" max=\"100\" value=\"0\">\n            <p>Slide to adjust image brightness</p>\n        </div>    \n    </div>\n    <div>\n        <canvas class=\"image-input__canvas\"\n        ref=\"canvas\"\n        v-bind:height=\"height\"\n        v-bind:width=\"width\">\n        </canvas> \n        <div>\n            <button @click=\"triggerInput\">Upload</button>\n            <input @change=\"onFileSelected\" class=\"image-input__input\" ref=\"fileInput\" type=\"file\" />\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ImageEditor',\n  props: ['id','width','height'],\n  data () {\n    return {\n        selectedFile: null,\n        isImageLoaded: false,\n        // Image\n        ctx: null, \n        canvas: null,\n        img: null, \n        originalImgData: null,\n    }\n  },\n  mounted: function(){\n    // Instantiate\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = document.createElement(\"img\");\n  },\n  methods: {\n    \n    pixelManipulation(imageData, contrast) {  // contrast as an integer percent  \n        var data = imageData.data;  // original array modified, but canvas not updated\n        contrast *= 2.55; // or *= 255 / 100; scale integer percent to full range\n        var factor = (255 + contrast) / (255.01 - contrast);  //add .1 to avoid /0 error\n\n        for(var i=0;i<data.length;i+=4)  //pixel values in 4-byte blocks (r,g,b,a)\n        {\n            data[i] = factor * (data[i] - 128) + 128;     //r value\n            data[i+1] = factor * (data[i+1] - 128) + 128; //g value\n            data[i+2] = factor * (data[i+2] - 128) + 128; //b value\n\n        }\n        return imageData;\n    },\n    \n    adjustBrightness(event){\n        var contrastValue = event.target.value\n        console.log(contrastValue);\n        var vm = this;\n        var newImageData = vm.pixelManipulation(vm.originalImgData, contrastValue);\n        console.log(newImageData)\n        vm.ctx.putImageData(newImageData,0,0);\n    },\n    adjustContrast(event){\n        console.log(\"adjustContrast : \"+event.target.value);\n    },\n    triggerInput: function(event) {\n      event.preventDefault();\n      this.$refs.fileInput.click();\n    },\n    onFileSelected(event){\n        console.log('uploading...')\n        var vm = this;\n        var input = event.target;\n\n        if (input.files && input.files[0]) {\n            var reader = new FileReader();\n\n            // Set as source\n            reader.onload = function (e) {\n            vm.img.src = e.target.result;\n            }\n\n            reader.readAsDataURL(input.files[0]);\n\n            vm.img.onload = function() \n            {\n            // Draw\n            vm.ctx.drawImage(vm.img, 0, 0, vm.img.width, vm.img.height, \n                0, 0, vm.canvas.width, vm.canvas.height);\n            vm.originalImgData = vm.ctx.getImageData(0, 0, vm.canvas.width, vm.canvas.height);\n            vm.isImageLoaded = true;\n            }\n        }\n    \n    }\n  }\n}\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nimg {\n    width: 100%;\n}\ncanvas {\n    width: 100%;\n}\n.avatar {\n    display: flex;\n    justify-content: center;\n    margin-top: -4rem;\n}\n.avatar img {\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    border: 5px solid white;\n}\ndiv .img-editor{\n    display: flex;\n    align-self: auto;\n    flex-direction: column;\n    width: 50%;\n    padding: 1rem;\n}\n\n.image-input__input {\n    display: none;\n}\n.image-input__canvas {\n    border: 1px solid black;\n}\n\n.image-input__overlay \n{\n  position: absolute;\n  top: 0; left: 0;\n\n  width: 100%;\n  height: 100%;\n\n  cursor: pointer;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}