{"remainingRequest":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/thread-loader/dist/cjs.js!/Users/mushfikhossain/Projects/ImageEditor/node_modules/babel-loader/lib/index.js!/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mushfikhossain/Projects/ImageEditor/src/components/Templates/ImageEditor.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mushfikhossain/Projects/ImageEditor/src/components/Templates/ImageEditor.vue","mtime":1531958929000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/cache-loader/dist/cjs.js","mtime":1531469514241},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/thread-loader/dist/cjs.js","mtime":1531469515637},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/mushfikhossain/Projects/ImageEditor/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Label from '../Atoms/Label.vue';\nimport Header from '../Atoms/Header.vue';\nimport UploadButton from '../Atoms/UploadButton.vue';\nimport Slider from '../Molecules/Slider.vue';\nexport default {\n  name: 'ImageEditor',\n  components: {\n    Label: Label,\n    Header: Header,\n    Slider: Slider,\n    UploadButton: UploadButton\n  },\n  props: ['id', 'width', 'height', 'filename'],\n  data: function data() {\n    return {\n      selectedFile: null,\n      isImageLoaded: false,\n      // Image\n      ctx: null,\n      canvas: null,\n      img: null,\n      originalImgData: null,\n      contrastLevel: 0,\n      brightnessLevel: 0\n    };\n  },\n  mounted: function mounted() {\n    // Instantiate\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = document.createElement(\"img\");\n    this.filename = 'No File';\n  },\n  methods: {\n    copyImageData: function copyImageData() {\n      var vm = this;\n      var originalData = vm.originalImgData.data;\n      var newImgData = vm.ctx.createImageData(vm.canvas.width, vm.canvas.height);\n      newImgData.data.set(originalData);\n      return newImgData;\n    },\n    pixelManipulation: function pixelManipulation() {\n      var vm = this;\n      var newImgData = vm.copyImageData();\n      var data = newImgData.data; //apply current brightness \n\n      var brightness = parseFloat(vm.brightnessLevel) || 0;\n\n      for (var i = 0; i < data.length; i += 4) {\n        data[i] += brightness;\n        data[i + 1] += brightness;\n        data[i + 2] += brightness;\n      } //apply current contrast\n\n\n      var contrastValue = vm.contrastLevel / 100 + 1; //convert to decimal & shift range: [0..2]\n\n      var intercept = 128 * (1 - contrastValue);\n\n      for (var j = 0; j < data.length; j += 4) {\n        //r,g,b,a\n        data[j] = data[j] * contrastValue + intercept;\n        data[j + 1] = data[j + 1] * contrastValue + intercept;\n        data[j + 2] = data[j + 2] * contrastValue + intercept;\n      } //change image\n\n\n      vm.ctx.putImageData(newImgData, 0, 0);\n    },\n    adjustBrightness: function adjustBrightness(value) {\n      var vm = this;\n      vm.brightnessLevel = value;\n      vm.pixelManipulation();\n    },\n    adjustContrast: function adjustContrast(value) {\n      var vm = this;\n      vm.contrastLevel = value;\n      vm.pixelManipulation();\n    },\n    triggerInput: function triggerInput() {\n      this.$refs.fileInput.click();\n    },\n    onFileSelected: function onFileSelected(event) {\n      var vm = this;\n      var input = event.target;\n\n      if (input.files && input.files[0]) {\n        var reader = new FileReader();\n        var filename = input.files[0].name;\n\n        reader.onload = function (e) {\n          vm.img.src = e.target.result;\n        };\n\n        reader.readAsDataURL(input.files[0]);\n\n        vm.img.onload = function () {\n          vm.ctx.drawImage(vm.img, 0, 0, vm.img.width, vm.img.height, 0, 0, vm.canvas.width, vm.canvas.height);\n          vm.filename = filename;\n          vm.originalImgData = vm.ctx.getImageData(0, 0, vm.canvas.width, vm.canvas.height);\n          vm.isImageLoaded = true;\n        };\n      }\n    }\n  }\n};",{"version":3,"sources":["ImageEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"img-editor\">\n    <Header \n        title=\"Image Editor\"\n        subtitle=\"Mushfik Hossain\"\n    />\n    <div>\n        <img src=\"../../assets/pleasure-garden.jpg\">\n        <div class=\"avatar\">\n            <img src=\"../../assets/my-face.png\">\n        </div>\n    </div>\n    <Slider \n        labelColor='brightness'\n        sliderStyles=\"image-adjust__input-brightness\"\n        label='Brightness'\n        @sliderChangeFunc=\"adjustBrightness\"\n        :isImageLoaded=\"isImageLoaded\"\n        labelDescription=\"Slide to adjust image brightness! ☀️\"\n    />\n    <Slider \n        labelColor='contrast'\n        sliderStyles=\"image-adjust__input-contrast\"\n        label='Contrast'\n        @sliderChangeFunc=\"adjustContrast\"\n        :isImageLoaded=\"isImageLoaded\"\n        labelDescription=\"Slide to adjust image contrast! 🌗\"\n    />\n    <div class=\"canvas-input\">\n        <canvas \n            class=\"image-input__canvas\"\n            ref=\"canvas\"\n            v-bind:height=\"height\"\n            v-bind:width=\"width\">\n        </canvas> \n        <div class=\"row canvas-input__upload\">\n            <div class=\"list-group list-group-horizontal\">\n                <div class=\"list-group-item label-name grey\">Name</div>\n                <div class=\"list-group-item filename truncate\">{{filename}}</div>\n            </div>\n            <UploadButton @callbackFunc=\"triggerInput\" />\n            <input \n                @change=\"onFileSelected\" \n                class=\"image-input__input\" \n                ref=\"fileInput\" \n                type=\"file\" \n            />\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Label from '../Atoms/Label.vue'\nimport Header from '../Atoms/Header.vue'\nimport UploadButton from '../Atoms/UploadButton.vue'\nimport Slider from '../Molecules/Slider.vue'\n\nexport default {\n  name: 'ImageEditor',\n  components: {\n    Label,\n    Header,\n    Slider,\n    UploadButton,\n  },\n  props: ['id','width','height','filename'],\n  data () {\n    return {\n        selectedFile: null,\n        isImageLoaded: false,\n        // Image\n        ctx: null, \n        canvas: null,\n        img: null, \n        originalImgData: null,\n        contrastLevel: 0,\n        brightnessLevel: 0,\n    }\n  },\n  mounted: function(){\n    // Instantiate\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.img = document.createElement(\"img\");\n    this.filename = 'No File';\n  },\n  methods: {\n    copyImageData(){\n        const vm = this;\n        const originalData = vm.originalImgData.data;\n        let newImgData = vm.ctx.createImageData(vm.canvas.width, vm.canvas.height);\n        newImgData.data.set(originalData);\n        return newImgData;\n    },\n    pixelManipulation(){\n        const vm = this;\n        let newImgData = vm.copyImageData();\n        let data = newImgData.data;\n        //apply current brightness \n        const brightness = parseFloat(vm.brightnessLevel) || 0;\n        for (let i=0;i<data.length;i+=4) {\n            data[i] += brightness;\n            data[i + 1] += brightness;\n            data[i + 2] += brightness;\n        }\n        //apply current contrast\n        const contrastValue = (vm.contrastLevel/100) + 1;  //convert to decimal & shift range: [0..2]\n        const intercept = 128 * (1 - contrastValue);\n        for(let j=0;j<data.length;j+=4){   //r,g,b,a\n            data[j] = data[j]*contrastValue + intercept;\n            data[j+1] = data[j+1]*contrastValue + intercept;\n            data[j+2] = data[j+2]*contrastValue + intercept;\n        }\n        //change image\n        vm.ctx.putImageData(newImgData, 0, 0);\n    }, \n\n    adjustBrightness(value){\n        const vm = this;\n        vm.brightnessLevel = value;\n        vm.pixelManipulation();\n    },\n    adjustContrast(value){\n        const vm = this;\n        vm.contrastLevel = value;\n        vm.pixelManipulation();\n    },\n    triggerInput() {\n      this.$refs.fileInput.click();\n    },\n    onFileSelected(event){\n        const vm = this;\n        const input = event.target;\n\n        if (input.files && input.files[0]) {\n            let reader = new FileReader();\n            let filename = input.files[0].name;\n            reader.onload = function (e) {\n                vm.img.src = e.target.result;\n            }\n            reader.readAsDataURL(input.files[0]);\n\n            vm.img.onload = function() {\n                vm.ctx.drawImage(vm.img, 0, 0, vm.img.width, vm.img.height, \n                    0, 0, vm.canvas.width, vm.canvas.height);\n                vm.filename = filename;\n                vm.originalImgData = vm.ctx.getImageData(0, 0, vm.canvas.width, vm.canvas.height);\n                vm.isImageLoaded = true;\n            }\n        }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nimg {\n    width: 100%;\n}\np {\n    font-size: small;\n}\n.list-group {\n    display: flex;\n    flex-direction: row;\n    margin-left: 4px;\n}\n\n.list-group-horizontal .list-group-item {\n    display: inline-block;\n    margin-bottom: 0;\n\tmargin-left:-4px;\n\tmargin-right: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n    line-height: 36px;\n}\n.list-group-horizontal .list-group-item:first-child {\n\tborder-top-right-radius:0;\n\tborder-bottom-left-radius:4px;\n}\n.list-group-horizontal .list-group-item:last-child {\n\tborder-top-right-radius:4px;\n\tborder-bottom-left-radius:0;\n}\n.label-name {\n    color: #a6b1c0;\n}\n.filename {\n    color: #5bbb78;\n}\n.truncate {\n    width: 120px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.grey {\n    background-color: #f6f8fa;\n}\n.canvas-input {\n    border: 1px solid #b5a8a0;\n    padding-bottom: 0.5rem;\n    border-radius: 5px;\n    margin: 1rem;\n}\n.canvas-input__upload {\n    display: flex;\n    justify-content: space-around;\n    padding-right: 5px;\n    padding-left: 5px;\n}\n.avatar {\n    display: flex;\n    justify-content: center;\n    margin-top: -4rem;\n}\n.avatar img {\n    border-radius: 50%;\n    width: 100px;\n    height: 100px;\n    border: 5px solid white;\n}\ndiv .img-editor{\n    display: flex;\n    align-self: auto;\n    flex-direction: column;\n    width: 375px;\n}\n\n.image-input__input {\n    display: none;\n}\n.image-input__canvas {\n    width: 100%;\n    border-bottom: 1px solid #b5a89f;\n}\n\n.image-input__overlay \n{\n    position: absolute;\n    top: 0; left: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n}\n</style>\n"],"sourceRoot":"src/components/Templates"}]}